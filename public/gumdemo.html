<!DOCTYPE html>
<html lang="en">
<head>
<meta charset=utf-8 />
<title>Camera Stream Demo</title>
<script src="navigator.getusermedia.min.js"></script>
</head>

<body>
  <video autoplay muted></video>
  <div id="canvas_container">
    <canvas style="position:absolute; top:0; bottom:0; left:0; right:0; height:100%; width:100%"></canvas>
  </div>
  

  <script>
    var video = document.querySelector('video');
    var canvas = document.querySelector('canvas');
    var ctx = canvas.getContext('2d');
    
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
    var x=0, y=0, width=canvas.width, height=canvas.height;
    
    draw = function() {
      ctx.drawImage(video, x, y, width, height); 
    }
    
    if (navigator.getUserMedia) {
      navigator.getUserMedia({video: true}, successCallback);
      function successCallback(stream, raw) {
        video.src = raw;
        video.addEventListener( "timeupdate", function() {
            //draw();
        }, false);
      }
    } 
    
  </script>
</body>
</html>